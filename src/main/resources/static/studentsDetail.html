<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSS only -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-gH2yIJqKdNHPEq0n4Mqa/HGKIhSkIHeL5AyhkYV8i59U5AR6csBvApHHNl/vI1Bx" crossorigin="anonymous">
    <title>Course Details</title>
</head>
<body>
    <h1>Student Details</h1>
    <div class="container"></div>
    <div style="width: 75%; margin: 0 auto;">
        <button id="back" class="btn btn-primary">Back</button>
        <div id="detail">

        </div>
    </div>
</body>
<script>
    const urlSearchParams = new URLSearchParams(window.location.search);
    const id = Object.fromEntries(urlSearchParams.entries()).id;
    fetch("http://localhost:8080/students/" + id)
        .then(response => response.json())
        .then(element => {

            const detail = document.getElementById("detail");
            
            const div1 = document.createElement("div");
            div1.innerHTML = "ID: " + element.id;
            const div2 = document.createElement("div");
            div2.innerHTML = "First Name: " + element.firstName;
            const div3 = document.createElement("div");
            div3.innerHTML = "Last Name: " + element.lastName;
            const div4 = document.createElement("div");
            div4.innerHTML = "Email: " + element.email;
            const div5 = document.createElement("div");
            div5.innerHTML = "Major: " + element.major;
            const div6 = document.createElement("div");
            div6.innerHTML = "GPA: " + element.gpa;
            const div7 = document.createElement("div");
            div7.innerHTML = "Courses: " + element.courseList.reduce((x, y) => y.name + ", "+ x, "");
            detail.appendChild(div1);
            detail.appendChild(div2);
            detail.appendChild(div3);
            detail.appendChild(div4);
            detail.appendChild(div5);
            detail.appendChild(div6);
            detail.appendChild(div7);

            const back = document.getElementById("back");
            back.onclick = () => {window.location.href = "./courses.html"};
        });
</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-A3rJD856KowSb7dwlZdYEkO39Gagi7vIsF0jrRAoQmDKKtQBHUuLZ9AsSv4jD4Xa" crossorigin="anonymous"></script>
</html>